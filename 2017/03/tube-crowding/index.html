<!doctype html><html lang=en><head><title>Primary Unit – Tube crowding</title><meta charset=utf-8><meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; media-src 'self'; block-all-mixed-content; base-uri 'self'"><link rel=license href=https://creativecommons.org/licenses/by/4.0/><link rel=alternate type=application/rss+xml href=/rss.xml title="Primary Unit"><link rel=alternate type=application/json href=/feed.json title="Primary Unit"><link rel=mask-icon href=/favicon.svg color=#1369bf><link rel=apple-touch-icon-precomposed href=/favicon.png><link rel=icon href=/favicon.ico><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A blog by Rob Wells, mostly about computer stuff."><style>html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strong,sub,sup,var,b,u,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,menu,nav,output,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}input,button{font-family:inherit}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}html{box-sizing:border-box;text-size-adjust:100%}*,*:before,*:after{box-sizing:inherit}:root{--grey:#607080;--grey10:#eff0f2;--grey5:#f7f8f9;--blue:#1369bf;--blue10:#e7eff8;--purple:#7436b3;--lineSpace:1.75rem;--halfLine:calc(var(--lineSpace) / 2);--quarterLine:calc(var(--lineSpace) / 4);--bigGap:calc(var(--lineSpace) * 2);--paragraphWidth:40rem;--wrapperWidth:50rem;--huge:1.75rem;--big:1.5625rem;--medium:1.375rem;--text:1.125rem;--small:0.875rem;--codeInText:0.875em;--bodyFonts:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Oxygen", Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Helvetica, sans-serif;--monospace:'Source Code Pro', 'Consolas', 'Menlo', 'Monaco', monospace}body{background-color:var(--grey5);font-family:var(--bodyFonts);font-size:var(--text);font-style:normal;font-weight:400;line-height:1.55555;text-size-adjust:100%;-webkit-text-size-adjust:100%}.wrapper{margin:0 auto;max-width:var(--wrapperWidth);padding:var(--lineSpace)var(--halfLine)}h2,h3,h4{margin:0 0 var(--lineSpace)}h2{font-size:var(--huge)}h3{font-size:var(--big)}h4{font-size:var(--medium)}blockquote,figure,p,pre,table,caption,dl,ol,ul,div.highlight{margin-bottom:var(--lineSpace)}blockquote,pre,div.highlight{background-color:var(--grey10);padding:var(--halfLine)}blockquote{font-style:italic}blockquote em,blockquote i{font-style:normal}blockquote p:last-child{margin-bottom:0}figcaption{font-style:italic}hr{border:none;border-top:1px solid var(--grey);margin:var(--lineSpace)0}img,video{box-sizing:content-box;border:1px solid var(--grey);height:auto;max-width:100%}pre{overflow-x:auto}dl,ol,ul{margin-bottom:var(--lineSpace)}ol,ul{list-style-position:outside;padding-left:var(--lineSpace)}ol{list-style-type:decimal}ul{list-style-type:square}a:link{color:var(--blue);text-decoration:underline}a:visited{color:var(--purple)}a:focus,a:hover,a:active{background-color:var(--blue10)}strong,b{font-weight:700}em,i{font-style:italic}code{font-size:var(--codeInText)}.highlight,pre code,small{font-size:var(--small)}.highlight,code{font-family:var(--monospace)}small{color:var(--grey)}table{width:100%}.table-container{overflow-x:auto}caption{font-style:italic}thead{border-bottom:1px solid var(--grey)}tfoot{border-top:1px solid var(--grey)}th,td{width:auto;padding:var(--halfLine);overflow:auto;text-align:left}th{background-color:var(--grey10);font-weight:700}.table-figures{text-align:right;font-family:var(--monospace)}.site-header{border-left:var(--quarterLine)solid var(--blue);display:flex;flex-wrap:wrap;margin-bottom:var(--lineSpace);padding-left:var(--quarterLine)}.site-title-container{flex-shrink:0;margin-right:var(--lineSpace);max-width:100%}.site-title{font-size:var(--huge);line-height:var(--huge);margin-bottom:0}.site-byline{margin-bottom:0}.site-links{color:var(--grey);list-style-type:none;margin-bottom:0;padding:0}.site-footer{margin-top:var(--bigGap)}article{border-bottom:1px solid var(--grey);margin-bottom:var(--bigGap)}article:last-of-type{border-bottom:none}article header{margin-bottom:var(--lineSpace)}article header h2{margin-bottom:0}article header time{color:var(--grey)}article li{margin-bottom:var(--halfLine)}.index-date{color:var(--grey);font-family:var(--monospace);font-size:var(--small);min-width:6rem;margin-right:var(--halfLine)}.index-item{margin-bottom:var(--halfLine)}.index-link{align-items:baseline;display:flex}.index-list{padding-left:0;list-style-type:none}.flag{background-color:var(--blue10);border-left:var(--quarterLine)solid var(--blue);margin-bottom:var(--lineSpace);padding:var(--halfLine)var(--quarterLine)}.flag :last-child{margin-bottom:0}.full-width{max-width:100%}.mute-links a{text-decoration:none;color:inherit}.no-border{border:0}.no-border img{border:0}.no-squish{overflow:auto}.no-squish img{max-width:none}@media screen and (min-width:40rem){.pull-left{float:left;clear:left;margin-right:var(--halfLine)}.pull-right{float:right;clear:right;margin-left:var(--halfLine)}.pull-left img,.pull-right img{display:block;margin-bottom:var(--lineSpace)}}</style></head><body><div class=wrapper><header class=site-header><div class="site-title-container mute-links"><h1 class=site-title><a href=/>Primary Unit</a></h1><p class=site-byline><i>by</i> Rob Wells</p></div><nav id=site-nav><ul class="site-links mute-links"><li><a href=/about/>About</a></li><li><a href=/books/>Books I’ve read</a></li><li>Feed:
<a href=/feed.json>JSON</a>,
<a href=/rss.xml>RSS</a></li></ul></nav></header><main><article><header><h2 class=mute-links><a href=/2017/03/tube-crowding/>Tube crowding</a></h2><p><time datetime=2017-03-13T23:10:00+0000>Monday, March 13 2017</time></p></header><p>Last week <a href=https://blog.tfl.gov.uk/2017/03/09/new-tube-customer-volumes-and-movements-data/>TfL released some data about crowding on Tube trains</a>. There’s a good write-up by <a href=http://diamondgeezer.blogspot.co.uk/2017/03/tubesquash.html>Diamond Geezer</a>.</p><p>Basically, TfL give each 15-minute slot on each line in each direction a rating from 1 (quiet) to 6 (stuffed). I thought I’d have a go at turning that data into some heatmaps, so you can pick out the busiest times more easily.</p><p>Now, this was my first time trying to make heatmaps, my first time using <a href=http://seaborn.pydata.org>Seaborn</a> and my first time using <a href=http://pandas.pydata.org>Pandas</a>. The plots are not great. I basically got to the end of my tether trying to sort the code out and ended up spending a chunk of time polishing the resulting images. Even then…</p><p>Before we go any further, all the plots are linked to the SVG files if you want to have a closer look as the labels appear quite small. Also, I’m only going to describe the oddities in the plots, not draw conclusions from them — others can do that if they’re interested.</p><p>Let’s start with the <a href=https://en.wikipedia.org/wiki/Waterloo_%26_City_line>Waterloo & City</a> line because it’s simplest:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-WC.svg><img src=/images/2017-03-13-Tube-Crowding-WC.svg alt="Tube crowding on the Waterloo & City line" class=no-border width=720 height=80></a></p><p>Hopefully you can pick out the labels on the left showing the source and destination stations, the times (5am to 2am) and the change in colour showing how crowded the trains are. It’s quite easy to pick out the peaks here: Waterloo to Bank around 8 and 9am, Bank to Waterloo around 5 and 6pm.</p><p>Now, in alphabetical order, let’s go through the rest. <a href=https://en.wikipedia.org/wiki/Bakerloo_line>Bakerloo</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-Bakerloo.svg><img src=/images/2017-03-13-Tube-Crowding-Bakerloo.svg alt="Tube crowding on the Bakerloo line" class=no-border width=720 height=360></a></p><p>Note here something that applies to the rest: not all pairs of stations are listed as I was having trouble making them legible. I tend to leave out every other pair so, above, it’s implied that after <em>Harrow & Wealdstone → Kenton</em> and before <em>South Kenton → North Wembley</em> there is <em>Kenton → South Kenton</em>. But, as we’ll see, this isn’t always the case.</p><p>Looking at the early morning services in Kenton and Wembley it is pretty obvious, as <a href=http://diamondgeezer.blogspot.co.uk/2017/03/tubesquash.html>Diamond Geezer pointed out</a>, that someone has been mucking about with the data.</p><p>Next, <a href=https://en.wikipedia.org/wiki/Central_line_(London_Underground)>Central</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-Central.svg><img src=/images/2017-03-13-Tube-Crowding-Central.svg alt="Tube crowding on the Central line" class=no-border width=720 height=720></a></p><p>This was one of the first plots I “tidied” which is why the scale is missing. Note here the apparent disappearance of lots of travellers in the top-left and bottom-right of each plot. This is because of branching lines. I’ve tried to keep in the first station for each branch for each direction but it isn’t always the case. You may want to read these alongside <a href=https://tfl.gov.uk/maps/track/tube>the Tube map</a>.</p><p><a href=https://en.wikipedia.org/wiki/Circle_line_(London_Underground)>Circle</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-Circle.svg><img src=/images/2017-03-13-Tube-Crowding-Circle.svg alt="Tube crowding on the Circle line" class=no-border width=720 height=360></a></p><p>Not this is only the “Outer Rail” and “Inner Rail” — clockwise and anti-clockwise — sections of the Circle line, starting at Edgware Road. I left off the “jug handle” between Paddington and Hammersmith, which was pretty quiet anyway. In fact the whole line is fairly quiet — something DG pointed out — so the data is a bit suspect.</p><p><a href=https://en.wikipedia.org/wiki/District_line>District</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-District.svg><img src=/images/2017-03-13-Tube-Crowding-District.svg alt="Tube crowding on the District line" class=no-border width=720 height=700></a></p><p>All those cut-off bits are because of the five branches in west London. <a href=https://en.wikipedia.org/wiki/District_line>It’s a weird line</a> for historical reasons. Again I’m sceptical about the data because the District is the busiest sub-surface line, but the plots show that to be the <a href=https://en.wikipedia.org/wiki/Hammersmith_%26_City_line>Hammersmith & City</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-HC.svg><img src=/images/2017-03-13-Tube-Crowding-HC.svg alt="Tube crowding on the Hammersmith & City line" class=no-border width=720 height=380></a></p><p>No branches. Hurrah. Next.</p><p><a href=https://en.wikipedia.org/wiki/Jubilee_line>Jubilee</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-Jubilee.svg><img src=/images/2017-03-13-Tube-Crowding-Jubilee.svg alt="Tube crowding on the Jubilee line" class=no-border width=720 height=360></a></p><p>I love how Canary Wharf slices across these charts.</p><p>Let’s sod off to <a href=/images/2017-03-13-metro-land.jpg>Metro-land</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-Metropolitan.svg><img src=/images/2017-03-13-Tube-Crowding-Metropolitan.svg alt="Tube crowding on the Metropolitan line" class=no-border width=720 height=430></a></p><p>The <a href=https://en.wikipedia.org/wiki/Metropolitan_line>Metropolitan</a> line appears to be weirdly spacious in the evenings given how rammed it is in the morning. I’ve no idea if either is true to life.</p><p>More branching fun with the <a href=https://en.wikipedia.org/wiki/Northern_line>Northern</a> line:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-Northern.svg><img src=/images/2017-03-13-Tube-Crowding-Northern.svg alt="Tube crowding on the Northern line" class=no-border width=720 height=620></a></p><p>I know, it’s weird, I should have done separate charts or something but TfL need to get on with it and <a href=http://www.standard.co.uk/news/northern-line-service-divided-in-312m-bid-to-end-overcrowding-6468560.html>split it up</a>.</p><p><a href=https://en.wikipedia.org/wiki/Piccadilly_line>Piccadilly</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-Piccadilly.svg><img src=/images/2017-03-13-Tube-Crowding-Piccadilly.svg alt="Tube crowding on the Piccadilly line" class=no-border width=720 height=630></a></p><p>Strange pattern there, but it’s another strange line. Thankfully the last one is straightforward, the <a href=https://en.wikipedia.org/wiki/Victoria_line>Victoria</a>:</p><p class=full-width><a href=/images/2017-03-13-Tube-Crowding-Victoria.svg><img src=/images/2017-03-13-Tube-Crowding-Victoria.svg alt="Tube crowding on the Victoria line" class=no-border width=720 height=240></a></p><p>Doesn’t look too bad, that one.</p><p>Sorry the charts were so poor, do let me know what I should’ve done differently, or just whinge — I’m just glad this is over.</p></article></main><footer class=site-footer><small class=mute-links>This work is licensed under a
<a rel=license href=https://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License</a>.</small></footer></div></body></html>