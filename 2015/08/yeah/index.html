<!doctype html><html lang=en><head><title>Primary Unit – Yeah!</title><meta charset=utf-8><meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; media-src 'self'; block-all-mixed-content; base-uri 'self'"><link rel=license href=https://creativecommons.org/licenses/by/4.0/><link rel=alternate type=application/rss+xml href=/rss.xml title="Primary Unit"><link rel=alternate type=application/json href=/feed.json title="Primary Unit"><link rel=mask-icon href=/favicon.svg color=#1369bf><link rel=apple-touch-icon-precomposed href=/favicon.png><link rel=icon href=/favicon.ico><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A blog by Rob Wells, mostly about computer stuff."><style>html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strong,sub,sup,var,b,u,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,menu,nav,output,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}input,button{font-family:inherit}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}html{box-sizing:border-box;text-size-adjust:100%}*,*:before,*:after{box-sizing:inherit}:root{--grey:#607080;--grey10:#eff0f2;--grey5:#f7f8f9;--blue:#1369bf;--blue10:#e7eff8;--purple:#7436b3;--lineSpace:1.75rem;--halfLine:calc(var(--lineSpace) / 2);--quarterLine:calc(var(--lineSpace) / 4);--bigGap:calc(var(--lineSpace) * 2);--paragraphWidth:40rem;--wrapperWidth:50rem;--huge:1.75rem;--big:1.5625rem;--medium:1.375rem;--text:1.125rem;--small:0.875rem;--codeInText:0.875em;--bodyFonts:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Oxygen", Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Helvetica, sans-serif;--monospace:'Source Code Pro', 'Consolas', 'Menlo', 'Monaco', monospace}body{background-color:var(--grey5);font-family:var(--bodyFonts);font-size:var(--text);font-style:normal;font-weight:400;line-height:1.55555;text-size-adjust:100%;-webkit-text-size-adjust:100%}.wrapper{margin:0 auto;max-width:var(--wrapperWidth);padding:var(--lineSpace)var(--halfLine)}h2,h3,h4{margin:0 0 var(--lineSpace)}h2{font-size:var(--huge)}h3{font-size:var(--big)}h4{font-size:var(--medium)}blockquote,figure,p,pre,table,caption,dl,ol,ul,div.highlight{margin-bottom:var(--lineSpace)}blockquote,pre,div.highlight{background-color:var(--grey10);padding:var(--halfLine)}blockquote{font-style:italic}blockquote em,blockquote i{font-style:normal}blockquote p:last-child{margin-bottom:0}figcaption{font-style:italic}hr{border:none;border-top:1px solid var(--grey);margin:var(--lineSpace)0}img,video{box-sizing:content-box;border:1px solid var(--grey);height:auto;max-width:100%}pre{overflow-x:auto}dl,ol,ul{margin-bottom:var(--lineSpace)}ol,ul{list-style-position:outside;padding-left:var(--lineSpace)}ol{list-style-type:decimal}ul{list-style-type:square}a:link{color:var(--blue);text-decoration:underline}a:visited{color:var(--purple)}a:focus,a:hover,a:active{background-color:var(--blue10)}strong,b{font-weight:700}em,i{font-style:italic}code{font-size:var(--codeInText)}.highlight,pre code,small{font-size:var(--small)}.highlight,code{font-family:var(--monospace)}small{color:var(--grey)}table{width:100%}.table-container{overflow-x:auto}caption{font-style:italic}thead{border-bottom:1px solid var(--grey)}tfoot{border-top:1px solid var(--grey)}th,td{width:auto;padding:var(--halfLine);overflow:auto;text-align:left}th{background-color:var(--grey10);font-weight:700}.table-figures{text-align:right;font-family:var(--monospace)}.site-header{border-left:var(--quarterLine)solid var(--blue);display:flex;flex-wrap:wrap;margin-bottom:var(--lineSpace);padding-left:var(--quarterLine)}.site-title-container{flex-shrink:0;margin-right:var(--lineSpace);max-width:100%}.site-title{font-size:var(--huge);line-height:var(--huge);margin-bottom:0}.site-byline{margin-bottom:0}.site-links{color:var(--grey);list-style-type:none;margin-bottom:0;padding:0}.site-footer{margin-top:var(--bigGap)}article{border-bottom:1px solid var(--grey);margin-bottom:var(--bigGap)}article:last-of-type{border-bottom:none}article header{margin-bottom:var(--lineSpace)}article header h2{margin-bottom:0}article header time{color:var(--grey)}article li{margin-bottom:var(--halfLine)}.index-date{color:var(--grey);font-family:var(--monospace);font-size:var(--small);min-width:6rem;margin-right:var(--halfLine)}.index-item{margin-bottom:var(--halfLine)}.index-link{align-items:baseline;display:flex}.index-list{padding-left:0;list-style-type:none}.flag{background-color:var(--blue10);border-left:var(--quarterLine)solid var(--blue);margin-bottom:var(--lineSpace);padding:var(--halfLine)var(--quarterLine)}.flag :last-child{margin-bottom:0}.full-width{max-width:100%}.mute-links a{text-decoration:none;color:inherit}.no-border{border:0}.no-border img{border:0}.no-squish{overflow:auto}.no-squish img{max-width:none}@media screen and (min-width:40rem){.pull-left{float:left;clear:left;margin-right:var(--halfLine)}.pull-right{float:right;clear:right;margin-left:var(--halfLine)}.pull-left img,.pull-right img{display:block;margin-bottom:var(--lineSpace)}}</style><style>div.highlight>pre.chroma{padding:0;margin:0}:root{--lineNumberGrey:#6D6D6D;--operatorOrange:#B45000;--stringGreen:#357D06}.chroma .x{color:#000}.chroma .err{color:#a40000}.chroma .ln{margin-right:var(--halfLine);padding:0;color:var(--lineNumberGrey)}.chroma .k{color:#204a87;font-weight:700}.chroma .kc{color:#204a87;font-weight:700}.chroma .kd{color:#204a87;font-weight:700}.chroma .kn{color:#204a87;font-weight:700}.chroma .kp{color:#204a87;font-weight:700}.chroma .kr{color:#204a87;font-weight:700}.chroma .kt{color:#204a87;font-weight:700}.chroma .n{color:#000}.chroma .na{color:#c4a000}.chroma .nb{color:#204a87}.chroma .bp{color:#3465a4}.chroma .nc{color:#000}.chroma .no{color:#000}.chroma .nd{color:#5c35cc;font-weight:700}.chroma .ni{color:var(--operatorOrange)}.chroma .ne{color:#c00;font-weight:700}.chroma .nf{color:#000}.chroma .fm{color:#000}.chroma .nl{color:#f57900}.chroma .nn{color:#000}.chroma .nx{color:#000}.chroma .py{color:#000}.chroma .nt{color:#204a87;font-weight:700}.chroma .nv{color:#000}.chroma .vc{color:#000}.chroma .vg{color:#000}.chroma .vi{color:#000}.chroma .vm{color:#000}.chroma .l{color:#000}.chroma .ld{color:#000}.chroma .s{color:var(--stringGreen)}.chroma .sa{color:var(--stringGreen)}.chroma .sb{color:var(--stringGreen)}.chroma .sc{color:var(--stringGreen)}.chroma .dl{color:var(--stringGreen)}.chroma .sd{color:#8f5902;font-style:italic}.chroma .s2{color:var(--stringGreen)}.chroma .se{color:var(--stringGreen)}.chroma .sh{color:var(--stringGreen)}.chroma .si{color:var(--stringGreen)}.chroma .sx{color:var(--stringGreen)}.chroma .sr{color:var(--stringGreen)}.chroma .s1{color:var(--stringGreen)}.chroma .ss{color:var(--stringGreen)}.chroma .m{color:#0000cf;font-weight:700}.chroma .mb{color:#0000cf;font-weight:700}.chroma .mf{color:#0000cf;font-weight:700}.chroma .mh{color:#0000cf;font-weight:700}.chroma .mi{color:#0000cf;font-weight:700}.chroma .il{color:#0000cf;font-weight:700}.chroma .mo{color:#0000cf;font-weight:700}.chroma .o{color:var(--operatorOrange);font-weight:700}.chroma .ow{color:#204a87;font-weight:700}.chroma .p{color:#000;font-weight:700}.chroma .c{color:#8f5902;font-style:italic}.chroma .ch{color:#8f5902;font-style:italic}.chroma .cm{color:#8f5902;font-style:italic}.chroma .c1{color:#8f5902;font-style:italic}.chroma .cs{color:#8f5902;font-style:italic}.chroma .cp{color:#8f5902;font-style:italic}.chroma .cpf{color:#8f5902;font-style:italic}.chroma .g{color:#000}.chroma .gd{color:#a40000}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#ef2929}.chroma .gh{color:navy;font-weight:700}.chroma .gi{color:#00a000}.chroma .go{color:#000;font-style:italic}.chroma .gp{color:#8f5902}.chroma .gs{color:#000;font-weight:700}.chroma .gu{color:purple;font-weight:700}.chroma .gt{color:#a40000;font-weight:700}.chroma .gl{color:#000;text-decoration:underline}.chroma .w{color:#f8f8f8;text-decoration:none}</style></head><body><div class=wrapper><header class=site-header><div class="site-title-container mute-links"><h1 class=site-title><a href=/>Primary Unit</a></h1><p class=site-byline><i>by</i> Rob Wells</p></div><nav id=site-nav><ul class="site-links mute-links"><li><a href=/about/>About</a></li><li><a href=/books/>Books I’ve read</a></li><li>Feed:
<a href=/feed.json>JSON</a>,
<a href=/rss.xml>RSS</a></li></ul></nav></header><main><article><header><h2 class=mute-links><a href=/2015/08/yeah/>Yeah!</a></h2><p><time datetime=2015-08-05T20:04:00+0000>Wednesday, August 5 2015</time></p></header><p>For some reason, the other day I was thinking about <a href=https://en.wikipedia.org/wiki/Junior_Senior>Junior Senior</a>. I knew they had a pop hit something like 10 years ago but I just couldn’t place it at all: what it was called, what it sounded like, who they were, nothing.</p><p>Until this morning, when I looked them up and ended up watching the video for <a href="https://www.youtube.com/watch?v=SPlQpGeTbIE">Move Your Feet on YouTube</a> — and that was it, that video. It’s so good.</p><p>There’s just something about that super-happy, pixel art craziness. The dancing toast really clicked in my brain for some reason. I had to share — click the image below to load the gif.</p><p><img src="data:image/png;base64,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" alt="The first frame of the gif." id=toast></p><script>var toast_img=document.getElementById("toast"),data_uri=toast_img.src,gif_url="/images/2015-08-05_Junior-Senior-Yeah.gif";document.getElementById("toast").addEventListener("click",function(e){var t=e.target;t.src.match(/^data:image/)?t.src=gif_url:t.src=data_uri})</script><noscript><p>Sorry, you don’t have JavaScript enabled. Here’s <a href=/images/2015-08-05_Junior-Senior-Yeah.gif>a link to the gif</a>.</p></noscript><p>Since 100 words about a 12-year-old pop track with an amusing video feels like I’m cheating you, dear reader, here’s some technical stuff about doing easy click-to-start gifs.</p><p>I wanted to share that toast clip but after reading <a href=http://jacquesmattheij.com/the-fastest-blog-in-the-world>Jacques Mattheij’s post The Fastest Blog in the World</a> I was a little wary about dumping a 150KB image onto my front page just for a bit of whimsy. That attitude’s quite silly when you consider that the weight of the Primary Unit front page before this post went up was a full 883kB — nearly three-quarters of which is Tumblr’s crap that is out of my control. But anyway.</p><p>Here’s the code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=ln> 1</span><span class=cl><span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;data:image/png;base64,
</span></span></span><span class=line><span class=ln> 2</span><span class=cl><span class=s>… base64 data …
</span></span></span><span class=line><span class=ln> 3</span><span class=cl><span class=s>&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;The first frame of the gif.&#34;</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;toast&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=kd>var</span> <span class=nx>toast_img</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;toast&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=kd>var</span> <span class=nx>data_uri</span> <span class=o>=</span> <span class=nx>toast_img</span><span class=p>.</span><span class=nx>src</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=kd>var</span> <span class=nx>gif_url</span> <span class=o>=</span> <span class=s1>&#39;/images/2015-08-05_Junior-Senior-Yeah.gif&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;toast&#39;</span><span class=p>).</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>ev</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>  <span class=kd>var</span> <span class=nx>target</span> <span class=o>=</span> <span class=nx>ev</span><span class=p>.</span><span class=nx>target</span><span class=p>;</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>target</span><span class=p>.</span><span class=nx>src</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=sr>/^data:image/</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>      <span class=nx>target</span><span class=p>.</span><span class=nx>src</span> <span class=o>=</span> <span class=nx>gif_url</span><span class=p>;</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>      <span class=nx>target</span><span class=p>.</span><span class=nx>src</span> <span class=o>=</span> <span class=nx>data_uri</span><span class=p>;</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=p>&lt;</span><span class=nt>noscript</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>  <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>    Sorry, you don’t have JavaScript enabled.
</span></span><span class=line><span class=ln>21</span><span class=cl>    Here’s <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;/images/2015…gif&#34;</span><span class=p>&gt;</span>a link to the gif<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>.
</span></span><span class=line><span class=ln>22</span><span class=cl>  <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=p>&lt;/</span><span class=nt>noscript</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>I grabbed the first frame and saved it as a png. At 1.5kB it wasn’t worth the extra request or bothering uploading the file, so I turned it into <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/data_URIs>a base64 data URI</a> and put it in-line (note the placeholder on line 2). From the command line:</p><pre tabindex=0><code>uuencode -m infile remotename
</code></pre><p>The <code>remotename</code> just gets included in the header line, which you ditch, but you have to give something to the command.</p><p>Next we’ve got a little in-line JavaScript which grabs the <code>img</code> by its ID. It registers an event handler so that, when the image is clicked, if the <code>src</code> attribute is anything but the gif URL, it swaps it out and saves the old <code>src</code>. Click the image again and it restores the old <code>src</code> — in this case stopping the gif by substituting back in the data URI, but you could use it to swap two images or similar.</p></article></main><footer class=site-footer><small class=mute-links>This work is licensed under a
<a rel=license href=https://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License</a>.</small></footer></div></body></html>